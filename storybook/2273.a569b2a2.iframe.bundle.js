"use strict";(self.webpackChunk_splunk_ucc_ui_lib=self.webpackChunk_splunk_ucc_ui_lib||[]).push([[2273],{"./src/types/globalConfig/globalConfig.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>GlobalConfigSchema});var lib=__webpack_require__("./node_modules/zod/lib/index.mjs"),meta=lib.z.object({displayName:lib.z.string(),name:lib.z.string(),restRoot:lib.z.string(),apiVersion:lib.z.string().optional(),version:lib.z.string(),schemaVersion:lib.z.string().optional(),_uccVersion:lib.z.string().optional(),hideUCCVersion:lib.z.boolean().optional(),checkForUpdates:lib.z.boolean().default(!0).optional(),searchViewDefault:lib.z.boolean().default(!1).optional()}),NumberValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("number"),range:lib.z.array(lib.z.number()),isInteger:lib.z.boolean().optional()}),StringValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("string"),minLength:lib.z.number().gte(0),maxLength:lib.z.number().gte(0)}),RegexValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("regex"),pattern:lib.z.string()}),EmailValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("email")}),Ipv4Validator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("ipv4")}),UrlValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("url")}),DateValidator=lib.z.object({errorMsg:lib.z.string().optional(),type:lib.z.literal("date")}),ValueLabelPair=lib.z.object({value:lib.z.union([lib.z.number(),lib.z.string(),lib.z.boolean()]),label:lib.z.string()}),MarkdownMessageText=lib.z.object({markdownType:lib.z.literal("text"),text:lib.z.string(),color:lib.z.string().optional()}),MarkdownMessageHybrid=lib.z.object({markdownType:lib.z.literal("hybrid"),text:lib.z.string(),token:lib.z.string(),linkText:lib.z.string(),link:lib.z.string()}),MarkdownMessageLink=lib.z.object({markdownType:lib.z.literal("link"),text:lib.z.string(),link:lib.z.string()}),MarkdownMessagePlaintext=lib.z.object({markdownType:lib.z.undefined().optional(),text:lib.z.string()}),CommonEntityFields=lib.z.object({type:lib.z.string(),field:lib.z.string(),label:lib.z.string(),help:lib.z.string().optional(),tooltip:lib.z.string().optional()}),CommonEditableEntityFields=CommonEntityFields.extend({required:lib.z.boolean().default(!1).optional(),encrypted:lib.z.boolean().default(!1).optional()}),CommonEditableEntityOptions=lib.z.object({display:lib.z.boolean().default(!0).optional(),disableonEdit:lib.z.boolean().default(!1).optional(),enable:lib.z.boolean().default(!0).optional(),requiredWhenVisible:lib.z.boolean().default(!1).optional()}),MarkdownMessageType=lib.z.union([MarkdownMessageText,MarkdownMessageHybrid,MarkdownMessageLink,MarkdownMessagePlaintext]),FieldToModify=lib.z.object({fieldValue:lib.z.union([lib.z.number(),lib.z.string(),lib.z.boolean()]),mode:lib.z.enum(["create","edit","config","clone"]).optional(),fieldsToModify:lib.z.array(lib.z.object({fieldId:lib.z.string(),display:lib.z.boolean().optional(),value:lib.z.union([lib.z.number(),lib.z.string(),lib.z.boolean()]).optional(),disabled:lib.z.boolean().optional(),required:lib.z.boolean().optional(),help:lib.z.string().optional(),label:lib.z.string().optional(),markdownMessage:MarkdownMessageType.optional()}))}),ModifyFieldsOnValue=lib.z.array(FieldToModify).optional(),AllValidators=lib.z.array(lib.z.union([NumberValidator,StringValidator,RegexValidator,EmailValidator,Ipv4Validator,UrlValidator,DateValidator])).nonempty(),LinkEntity=CommonEntityFields.extend({type:lib.z.literal("helpLink"),label:lib.z.string().optional(),options:lib.z.object({text:lib.z.string(),link:lib.z.string()}),required:lib.z.literal(!1).default(!1).optional()}),TextEntity=CommonEditableEntityFields.extend({type:lib.z.literal("text"),validators:AllValidators.optional(),defaultValue:lib.z.union([lib.z.string(),lib.z.number(),lib.z.boolean()]).optional(),options:CommonEditableEntityOptions.optional(),modifyFieldsOnValue:ModifyFieldsOnValue}),TextAreaEntity=CommonEditableEntityFields.extend({type:lib.z.literal("textarea"),validators:AllValidators.optional(),defaultValue:lib.z.string().optional(),options:CommonEditableEntityOptions.extend({rowsMin:lib.z.number().optional(),rowsMax:lib.z.number().optional()}).optional(),modifyFieldsOnValue:ModifyFieldsOnValue}),AutoCompleteFields=lib.z.array(lib.z.union([ValueLabelPair,lib.z.object({label:lib.z.string(),children:lib.z.array(ValueLabelPair)})])),SelectCommonOptions=CommonEditableEntityOptions.extend({disableSearch:lib.z.boolean().default(!1).optional(),createSearchChoice:lib.z.boolean().default(!1).optional(),referenceName:lib.z.string().optional(),endpointUrl:lib.z.string().optional(),allowList:lib.z.string().optional(),denyList:lib.z.string().optional(),labelField:lib.z.string().optional(),valueField:lib.z.string().optional(),autoCompleteFields:AutoCompleteFields.optional(),dependencies:lib.z.array(lib.z.string()).optional(),items:ValueLabelPair.array().optional()}),SingleSelectEntity=CommonEditableEntityFields.extend({type:lib.z.literal("singleSelect"),validators:AllValidators.optional(),defaultValue:lib.z.union([lib.z.string(),lib.z.number(),lib.z.boolean()]).optional(),options:SelectCommonOptions,modifyFieldsOnValue:ModifyFieldsOnValue}),MultipleSelectCommonOptions=SelectCommonOptions.extend({delimiter:lib.z.string().length(1).optional()}),MultipleSelectEntity=CommonEditableEntityFields.extend({type:lib.z.literal("multipleSelect"),validators:AllValidators.optional(),defaultValue:lib.z.string().optional(),options:MultipleSelectCommonOptions,modifyFieldsOnValue:ModifyFieldsOnValue}),CheckboxEntity=CommonEditableEntityFields.extend({type:lib.z.literal("checkbox"),defaultValue:lib.z.union([lib.z.number(),lib.z.boolean()]).optional(),options:CommonEditableEntityOptions.optional(),modifyFieldsOnValue:ModifyFieldsOnValue}),CheckboxGroupEntity=CommonEditableEntityFields.extend({type:lib.z.literal("checkboxGroup"),validators:lib.z.tuple([RegexValidator]).optional(),defaultValue:lib.z.union([lib.z.number(),lib.z.boolean()]).optional(),options:CommonEditableEntityOptions.extend({groups:lib.z.array(lib.z.object({label:lib.z.string(),fields:lib.z.array(lib.z.string()),options:lib.z.object({isExpandable:lib.z.boolean().optional(),expand:lib.z.boolean().optional()}).optional()})).optional(),rows:lib.z.array(lib.z.object({field:lib.z.string(),checkbox:lib.z.object({label:lib.z.string().optional(),defaultValue:lib.z.boolean().optional()}).optional(),input:lib.z.object({defaultValue:lib.z.number().optional(),validators:lib.z.tuple([NumberValidator]).optional(),required:lib.z.boolean().optional()}).optional()}))})}),RadioEntity=CommonEditableEntityFields.extend({type:lib.z.literal("radio"),defaultValue:lib.z.string().optional(),options:CommonEditableEntityOptions.extend({items:lib.z.array(ValueLabelPair)}),modifyFieldsOnValue:ModifyFieldsOnValue}),FileEntity=CommonEditableEntityFields.extend({type:lib.z.literal("file"),defaultValue:lib.z.string().optional(),validators:lib.z.array(lib.z.union([StringValidator,RegexValidator])).optional(),options:CommonEditableEntityOptions.extend({maxFileSize:lib.z.number().optional(),fileSupportMessage:lib.z.string().optional(),supportedFileTypes:lib.z.array(lib.z.string()),useBase64Encoding:lib.z.boolean().default(!1).optional()}).optional(),modifyFieldsOnValue:ModifyFieldsOnValue}),OAuthFields=lib.z.object({oauth_field:lib.z.string(),label:lib.z.string(),field:lib.z.string(),type:lib.z.literal("text").default("text").optional(),help:lib.z.string(),encrypted:lib.z.boolean().default(!1).optional(),required:lib.z.boolean().default(!1).optional(),defaultValue:lib.z.union([lib.z.string(),lib.z.number(),lib.z.boolean()]).optional(),options:lib.z.object({disableonEdit:lib.z.boolean().optional(),enable:lib.z.boolean().default(!0).optional(),display:lib.z.literal(!0).default(!0).optional(),requiredWhenVisible:lib.z.boolean().default(!1).optional()}).optional(),modifyFieldsOnValue:ModifyFieldsOnValue}),OAuthEntity=CommonEditableEntityFields.extend({type:lib.z.literal("oauth"),defaultValue:lib.z.string().optional(),validators:lib.z.array(lib.z.union([StringValidator,RegexValidator])).optional(),options:CommonEditableEntityOptions.omit({requiredWhenVisible:!0}).extend({auth_type:lib.z.array(lib.z.union([lib.z.literal("basic"),lib.z.literal("oauth")])),basic:lib.z.array(OAuthFields).optional(),oauth:lib.z.array(OAuthFields).optional(),auth_label:lib.z.string().optional(),oauth_popup_width:lib.z.number().optional(),oauth_popup_height:lib.z.number().optional(),oauth_timeout:lib.z.number().optional(),auth_code_endpoint:lib.z.string().optional(),access_token_endpoint:lib.z.string().optional(),oauth_state_enabled:lib.z.boolean().optional(),auth_endpoint_token_access_type:lib.z.string().optional()})}),CustomEntity=CommonEditableEntityFields.extend({type:lib.z.literal("custom"),options:lib.z.object({type:lib.z.literal("external"),src:lib.z.string()})}),SingleSelectSplunkSearchEntity=CommonEntityFields.extend({type:lib.z.literal("singleSelectSplunkSearch"),defaultValue:lib.z.union([lib.z.string(),lib.z.number(),lib.z.boolean()]).optional(),search:lib.z.string().optional(),valueField:lib.z.string().optional(),labelField:lib.z.string().optional(),options:lib.z.object({items:lib.z.array(ValueLabelPair)}).optional()}),AnyOfEntity=lib.z.discriminatedUnion("type",[LinkEntity,TextEntity,TextAreaEntity,SingleSelectEntity,MultipleSelectEntity,CheckboxEntity,CheckboxGroupEntity,RadioEntity,FileEntity,OAuthEntity,CustomEntity]),TableSchema=lib.z.object({moreInfo:lib.z.array(lib.z.object({field:lib.z.string(),label:lib.z.string(),mapping:lib.z.record(lib.z.any()).optional()})).optional(),header:lib.z.array(lib.z.object({field:lib.z.string(),label:lib.z.string(),mapping:lib.z.record(lib.z.any()).optional(),customCell:lib.z.record(lib.z.any()).optional()})),customRow:lib.z.record(lib.z.any()).optional(),actions:lib.z.array(lib.z.enum(["edit","delete","clone","enable","search"]))}),HooksSchema=lib.z.object({saveValidator:lib.z.string().optional()}).optional(),WarningMessageSchema=lib.z.object({message:lib.z.string(),alwaysDisplay:lib.z.boolean().default(!1).optional()}),WarningSchema=lib.z.object({create:WarningMessageSchema.optional(),edit:WarningMessageSchema.optional(),config:WarningMessageSchema.optional(),clone:WarningMessageSchema.optional()}).optional(),TabSchema=lib.z.object({entity:lib.z.array(AnyOfEntity).optional(),name:lib.z.string(),title:lib.z.string(),options:HooksSchema,table:TableSchema.extend({actions:lib.z.array(lib.z.enum(["edit","delete","clone"]))}).optional(),style:lib.z.enum(["page","dialog"]).optional(),hook:lib.z.record(lib.z.any()).optional(),conf:lib.z.string().optional(),restHandlerName:lib.z.string().optional(),restHandlerModule:lib.z.string().optional(),restHandlerClass:lib.z.string().optional(),customTab:lib.z.record(lib.z.any()).optional(),warning:WarningSchema}),GroupsSchema=lib.z.array(lib.z.object({options:lib.z.object({isExpandable:lib.z.boolean().optional(),expand:lib.z.boolean().optional()}).optional(),label:lib.z.string(),fields:lib.z.array(lib.z.string())})).optional(),TableLessServiceSchema=lib.z.object({name:lib.z.string(),title:lib.z.string(),subTitle:lib.z.string().optional(),entity:lib.z.array(AnyOfEntity),options:HooksSchema,groups:GroupsSchema,style:lib.z.enum(["page","dialog"]).optional(),hook:lib.z.record(lib.z.any()).optional(),conf:lib.z.string().optional(),restHandlerName:lib.z.string().optional(),restHandlerModule:lib.z.string().optional(),restHandlerClass:lib.z.string().optional(),warning:WarningSchema,inputHelperModule:lib.z.string().optional()}),TableFullServiceSchema=TableLessServiceSchema.extend({description:lib.z.string().optional(),table:TableSchema}),InputsPageRegular=lib.z.object({title:lib.z.string(),services:lib.z.array(TableFullServiceSchema)}).strict(),SubDescriptionSchema=lib.z.object({text:lib.z.string(),links:lib.z.array(lib.z.object({slug:lib.z.string(),link:lib.z.string(),linkText:lib.z.string()})).optional()}).optional(),InputsPageTableSchema=lib.z.object({title:lib.z.string(),description:lib.z.string().optional(),subDescription:SubDescriptionSchema,menu:lib.z.object({type:lib.z.literal("external"),src:lib.z.string()}).optional(),table:TableSchema,groupsMenu:lib.z.array(lib.z.object({groupName:lib.z.string(),groupTitle:lib.z.string(),groupServices:lib.z.array(lib.z.string()).optional()})).optional(),services:lib.z.array(TableLessServiceSchema.strict()),hideFieldId:lib.z.string().optional(),readonlyFieldId:lib.z.string().optional()}).strict(),pages=lib.z.object({configuration:lib.z.object({title:lib.z.string(),description:lib.z.string().optional(),subDescription:SubDescriptionSchema,tabs:lib.z.array(TabSchema).min(1)}),inputs:lib.z.union([InputsPageRegular,InputsPageTableSchema]).optional(),dashboard:lib.z.object({panels:lib.z.array(lib.z.object({name:lib.z.string()})).min(1),troubleshooting_url:lib.z.string().optional(),settings:lib.z.object({custom_tab_name:lib.z.string().optional()}).optional()}).optional()}),alerts=lib.z.array(lib.z.object({name:lib.z.string(),label:lib.z.string(),description:lib.z.string(),activeResponse:lib.z.object({task:lib.z.array(lib.z.string()).min(1),supportsAdhoc:lib.z.boolean(),subject:lib.z.array(lib.z.string()).min(1),category:lib.z.array(lib.z.string()).min(1),technology:lib.z.array(lib.z.object({version:lib.z.array(lib.z.string()).min(1),product:lib.z.string(),vendor:lib.z.string()})).min(1),drilldownUri:lib.z.string().optional(),sourcetype:lib.z.string().optional()}).optional(),entity:lib.z.array(lib.z.discriminatedUnion("type",[TextEntity,TextAreaEntity,SingleSelectEntity,CheckboxEntity,RadioEntity,SingleSelectSplunkSearchEntity])).optional()})).min(1).optional(),GlobalConfigSchema=lib.z.object({meta,pages,alerts})},"./src/util/invariant.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{V:()=>invariant});var prefix="Invariant failed";function invariant(condition,message){if(!condition){var value=message?"".concat(prefix,": ").concat(message):prefix;throw new Error(value)}}},"./src/util/messageUtil.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CK:()=>getFormattedMessage,ZN:()=>parseErrorMsg});var lodash=__webpack_require__("./node_modules/lodash/lodash.js"),i18n=__webpack_require__("./node_modules/@splunk/ui-utils/i18n.js");const messageDict={0:"Field {{args[0]}} is required",1:"Field {{args[0]}} must be a string",2:"{{args[0]}} {{args[1]}} is already in use",3:'"default", ".", "..", string started with "_" and string including any one of ["*", "\\", "[", "]", "(", ")", "?", ":"] are reserved value which cannot be used for field {{args[0]}}',5:"Field {{args[0]}} should be a positive number",6:"Field {{args[0]}} is required",7:"Field {{args[0]}} is not a valid regular expression",8:"Field {{args[0]}} should be within the range of [{{args[1]}} and {{args[2]}}]",9:"Field {{args[0]}} should be greater than or equal to {{args[1]}}",10:"Field {{args[0]}} should be less than or equal to {{args[1]}}",11:"{{args[0]}} is not a function",12:"{{args[0]}} is not a valid regular expression",13:"{{args[0]}} is not a valid number range",15:"Field {{args[0]}} does not match regular expression {{args[1]}}",16:"Field {{args[0]}} is not a number",17:"Length of {{args[0]}} should be greater than or equal to {{args[1]}}",18:"Length of {{args[0]}} should be less than or equal to {{args[1]}}",19:"Field {{args[0]}} is not a valid {{args[1]}}",20:"configuration file should be pure JSON",21:"duplicate {{args[0]}} keys are not allowed",22:"Field {{args[0]}} must be less than 1024 characters",23:'"name" field must be provided for {{args[0]}} \'s entity in configuration file',24:"The file must be in one of these formats: {{args[0]}}",25:"The file size should not exceed {{args[0]}} KB",26:"The file is invalid",27:"{{args[0]}} type is not present in supported File Types",28:"The file must be in {{args[0]}} format",29:"Field {{args[0]}} is not a integer",100:"Create New Input",101:"Delete Confirmation",102:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}? Ensure that no input is configured with "{{args[0]}}" as this will stop data collection for that input.',103:'Are you sure you want to delete "{{args[0]}}" {{args[1]}}?',104:"Error Message",105:"Warning",106:"Input Type",107:"Items",108:"Saving",109:"Failed to load index",110:"Internal configuration file error. Something wrong within the package or installation step. Contact your administrator for support. Detail: {{args[0]}}",111:"URL",112:"email address",113:"IPV4 address",114:"date in ISO 8601 format",116:"Inputs",117:"Configuration",118:"configuration file not found",119:"Monitoring Dashboard",unknown:"An unknown error occurred"};var getFormattedMessage=function getFormattedMessage(code,msg){var template=messageDict[code]||messageDict.unknown;return template=(0,i18n._)(template),lodash.template(template,{escape:/\{\{(.+?)\}\}/g})({args:msg})},tryTrimErrorMessage=function tryTrimErrorMessage(msg){try{var matches=/.+"REST Error \[[\d]+\]:\s+.+\s+--\s+([\s\S]*)"\.\s*See splunkd\.log(\/python.log)? for more details\./.exec(msg);if(matches&&matches[1])try{var innerMsgJSON=JSON.parse(matches[1]);return String(innerMsgJSON.messages[0].text)}catch(error){return function tryParseByteString(text){try{if(text.startsWith("b'")||text.startsWith('b"')){var parsedString=JSON.parse(text.slice(2,-1));return String(parsedString.messages[0].text)}return text}catch(_unused){return text}}(matches[1])}}catch(e){return msg}return msg},parseErrorMsg=function parseErrorMsg(err){try{var _err$response,msg=null==err||null===(_err$response=err.response)||void 0===_err$response||null===(_err$response=_err$response.data)||void 0===_err$response||null===(_err$response=_err$response.messages)||void 0===_err$response||null===(_err$response=_err$response[0])||void 0===_err$response?void 0:_err$response.text;return msg?tryTrimErrorMessage(msg):messageDict.unknown}catch(e){return(0,i18n._)("Error in processing the request")}}},"./src/util/util.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{CM:()=>generateEndPointUrl,RA:()=>setUnifiedConfig,Sb:()=>getUnifiedConfigs,my:()=>filterResponse,zH:()=>generateToast});var _splunk_react_toast_notifications_ToastConstants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@splunk/react-toast-notifications/ToastConstants.js"),_splunk_react_toast_notifications_Toaster__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@splunk/react-toast-notifications/Toaster.js"),_splunk_react_toast_notifications_Toaster__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_splunk_react_toast_notifications_Toaster__WEBPACK_IMPORTED_MODULE_1__),_types_globalConfig_globalConfig__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/types/globalConfig/globalConfig.ts"),_invariant__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/util/invariant.ts"),unifiedConfigs=null;function generateEndPointUrl(name){if(!unifiedConfigs)throw new Error("No GlobalConfig set");return"".concat(unifiedConfigs.meta.restRoot,"_").concat(name)}function setUnifiedConfig(unifiedConfig){var result=_types_globalConfig_globalConfig__WEBPACK_IMPORTED_MODULE_2__.p.safeParse(unifiedConfig);result.success||console.error("Invalid globalConfig.json",JSON.stringify(result.error.issues)),unifiedConfigs=unifiedConfig}function getUnifiedConfigs(){if(!unifiedConfigs)throw new Error("No GlobalConfig set");return unifiedConfigs}var createToast=(0,_splunk_react_toast_notifications_Toaster__WEBPACK_IMPORTED_MODULE_1__.makeCreateToast)(_splunk_react_toast_notifications_Toaster__WEBPACK_IMPORTED_MODULE_1___default()),generateToast=function generateToast(message,messageType){var toastType,action=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;switch(messageType){case"success":toastType=_splunk_react_toast_notifications_ToastConstants__WEBPACK_IMPORTED_MODULE_0__.TOAST_TYPES.SUCCESS;break;case"error":case"warning":toastType=_splunk_react_toast_notifications_ToastConstants__WEBPACK_IMPORTED_MODULE_0__.TOAST_TYPES.ERROR;break;default:toastType=_splunk_react_toast_notifications_ToastConstants__WEBPACK_IMPORTED_MODULE_0__.TOAST_TYPES.INFO}createToast({type:toastType,message,autoDismiss:!0,dismissOnActionClick:!0,showAction:Boolean(action),action:action||void 0})};function filterResponse(items,labelField,valueField,allowList,denyList){var newItems=items.map((function(item){var _item$content,_item$content2,label=labelField?null===(_item$content=item.content)||void 0===_item$content?void 0:_item$content[labelField]:item.name;(0,_invariant__WEBPACK_IMPORTED_MODULE_3__.V)("string"==typeof label,"Label not found for ".concat(item.name));var value=valueField?null===(_item$content2=item.content)||void 0===_item$content2?void 0:_item$content2[valueField]:item.name;return(0,_invariant__WEBPACK_IMPORTED_MODULE_3__.V)("string"==typeof value,"Value not found for ".concat(item.name)),{label,value}}));return allowList&&(newItems=function filterByAllowList(fields,allowList){var allowRegex=new RegExp(allowList);return fields.filter((function(item){return allowRegex.test(item.value)}))}(newItems,allowList)),denyList&&(newItems=function filterByDenyList(fields,denyList){var denyRegex=new RegExp(denyList);return fields.filter((function(item){return!denyRegex.test(item.value)}))}(newItems,denyList)),newItems}}}]);